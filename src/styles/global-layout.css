/* src\styles\global-layout.css */
/*
  Regra principal para o layout da aplicação.
  Define as cores base e a transição suave entre temas.
*/

/* ==========================================================================
   UI CONTAINER (padrão de plataforma)
   - Não conflita com Bootstrap .container
   - Centraliza conteúdo e cria padding lateral responsivo
   ========================================================================== */
:root {
  /* safe-area (webview / iOS) */
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
}

/* container padrão usado nos templates (ex.: .ui-container) */
.ui-container {
  width: 100%;
  margin-inline: auto;
  padding-inline: var(--gutter, 16px);
  max-width: var(--content-wide, 1360px);
}

html,
body {
  height: 100%;
  font-family: var(--font-family-primary);
  background-color: var(--background-color);
  color: var(--text-color);
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Base tipográfica responsiva (fallbacks se tokens não existirem) */
html {
  font-size: var(--font-size-base, 16px);
  line-height: var(--line-height-base, 1.5);
  text-rendering: optimizeLegibility;
  -webkit-text-size-adjust: 100%;
}

/* Mídias nunca “estouram” container */
img,
video,
canvas,
svg {
  max-width: 100%;
  height: auto;
}

/*
  Containers globais:
  Use em QUALQUER página para manter o conteúdo alinhado e com respiro.
  - .container: padrão (conteúdo “normal”)
  - .container-wide: telas largas (listas, dashboards)
  - .container-ultrawide: telas gigantes (quando fizer sentido)
*/
.container,
.container-wide,
.container-ultrawide {
  width: 100%;
  margin-inline: auto;
  padding-inline: var(--gutter, 16px);
}

.container {
  max-width: var(--content-max, 1120px);
}

.container-wide {
  max-width: var(--content-wide, 1360px);
}

.container-ultrawide {
  max-width: var(--content-ultrawide, 1600px);
}

/*
  Bloco de página (opcional):
  Ajuda a padronizar espaçamento vertical e respeitar safe-area no mobile.
  Use no wrapper do conteúdo principal:
  <main class="app-page">
    <div class="container">...</div>
  </main>
*/
.app-page {
  padding-top: calc(var(--space-4, 24px) + var(--safe-top, 0px));
  padding-bottom: calc(var(--space-5, 40px) + var(--safe-bottom, 0px));
}

/* Seções consistentes */
.section {
  padding-block: var(--space-4, 24px);
}

/* Espaçamento vertical consistente entre itens (sem “margin-top” manual em tudo) */
.stack {
  display: flex;
  flex-direction: column;
  gap: var(--space-3, 16px);
}

/* Grid simples e responsivo (bom pra cards/listas) */
.grid {
  display: grid;
  gap: var(--space-3, 16px);
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
}

ul {
  list-style-type: none;
}

a {
  text-decoration: none;
  color: var(--primary-color);
  transition: color 0.3s ease;
}

a:hover {
  color: var(--primary-hover);
}

/* Foco visível genérico para elementos focáveis */
a:focus-visible,
button:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  outline: var(--focus-ring);
  outline-offset: var(--focus-offset);
}

/* Foco global mais espesso em alto contraste */
html.high-contrast a:focus-visible,
html.high-contrast input:focus-visible,
html.high-contrast select:focus-visible,
html.high-contrast textarea:focus-visible,
html.high-contrast button:focus-visible {
  outline: var(--focus-ring);
  outline-offset: var(--focus-offset);
}

/* Links sempre sublinhados em alto contraste para reforçar affordance */
html.high-contrast a {
  color: var(--text-color);
  text-decoration: underline;
}

html.high-contrast a:hover {
  color: var(--text-color);
  background: #ff0;
  /* realce simples e muito visível */
}

/* Preferência do usuário: mais contraste ou movimento reduzido => sem transições */
@media (prefers-contrast: more),
(prefers-reduced-motion: reduce) {

  *,
  *::before,
  *::after {
    transition-duration: 0s !important;
    animation-duration: 0s !important;
    animation-iteration-count: 1 !important;
    /* Evita loops de animação */
    scroll-behavior: auto !important;
  }
}

/* Micro-ajuste para telas MUITO pequenas (ex.: 350px) */
@media (max-width: 350px) {
  .grid {
    grid-template-columns: 1fr;
  }
}
